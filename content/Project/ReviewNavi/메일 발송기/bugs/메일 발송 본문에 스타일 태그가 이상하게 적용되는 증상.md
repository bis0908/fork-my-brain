---
Create at: 2024-04-17
tags:
  - bug
---
---

#### 증상
	![[Pasted image 20240417125130.png]]
1. 메일 본문 문자열 랜덤화 과정에서 스타일 태그가 이상하게 적용되어 발송되는 문제.
2. 랜덤화 과정은 메일 등록 후 백엔드에서 발송 시 이루어짐.
3. 랜덤화 코드를 따로 추출해 테스트 해보면 결과는 정상?
4. 실제 발송시에는 첫번째 문자만 스타일이 들어가고 이후 문자열은 스타일 적용이 안됨.

#### 확인사항
1. db 등록시 랜덤화 과정 후 body html은 에디터에 입력한 내용과 동일한가?
2. 메일 계정에서 발송되는 내용 확인 필요 (거쳐서 발송되니까)
	1. 랜덤화 전 문자열 발송하면 스타일 적용된 그대로 수신됨.
3. html 메일을 보낼때 css가 깨지는 이슈로 구글링하면 여러 글이 보인다.
4. 결국 스타일을 인라인으로 적용하면 된다고 하는데, 이미 그렇게 하고 있음.
5. 다른 방법이 필요하다.
6. `quill.js` 에서 인라인 스타일 적용 시도
7. 처음엔 됐는데 두번째부터 잘 적용이 안된다. ???
8. 랜덤 문자열을 빼고 원문 전송 -> 잘 표시됨.
9. 에디터 문제는 아닌것 같음.
10. 랜덤화 부분을 의심하는 중


#### 해결
- `<strong>` 태그 내부에서는 `<div>` 태그를 사용할 수 없기 때문에 `<span>` 으로 치환.